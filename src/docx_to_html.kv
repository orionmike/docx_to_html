
#:import MDRectangleFlatButton kivymd.uix.button.MDRectangleFlatButton
#:import MDRaisedButton kivymd.uix.button.MDRaisedButton


<Container>:
    cols: 2
    padding: 4
    spacing: 4

    file_path: file_path
    log_output: log_output
    btn_generate: btn_generate

    html_code: html_code
    btn_generate_html: btn_generate_html
    scrol_view: scrol_view

    MDGridLayout:
        rows: 3
        spacing: 4
        size_hint: 1, 1


        MDTextField:
            id: file_path
            size_hint: 1, 3
            text: app.path
            font_size: '25sp'
            hint_text: 'Перетащите file.docx сюда'
            readonly: True
            multiline: True
            mode: "fill"
            helper_text_mode: "persistent"

        MDTextField:
            id: log_output
            size_hint: 1, 3
            text: app.log
            font_size: '18sp'
            hint_text: 'log'
            readonly: True
            multiline: True
            mode: "fill"
            helper_text_mode: "persistent"

        MDRaisedButton:
            id: btn_generate
            size_hint: 1, 1
            md_bg_color: "002050"
            text: 'Генерировать HTML'
            theme_text_color: "Custom"
            font_size: '25sp'
            on_release: root.btn_press__generate()

        # Button:
        #     id: btn_generate
        #     text: 'Генерировать HTML'
        #     font_size: '25sp'
        #     on_release: root.btn_press__generate()


    MDGridLayout:
        rows: 2
        spacing: 4
        size_hint: 2, 1

        ScrollView:
            id: scrol_view
            bar_width: 15
            scroll_type: ['bars']
            size_hint: 1, 6

            CodeInput: # MDTextField :
                id: html_code
                hint_text: 'HTML code'
                readonly: True
                size_hint: 1, None
                # mode: "rectangle"
                # multiline: True
                height: max((len(self._lines)+1) * self.line_height, scrol_view.height)

        MDGridLayout:
            cols: 2
            spacing: 4
            size_hint: 1, 1

            MDRaisedButton:
                id: btn_generate_html
                size_hint: 1, 1
                md_bg_color: "2B579A"
                text: 'Копировать'
                font_size: '25sp'
                on_release: root.btn_press__copy_code()

            MDRaisedButton:
                id: btn_open_code
                size_hint: 1, 1
                md_bg_color: "2B579A"
                text: 'Открыть в браузере'
                font_size: '25sp'
                on_release: root.btn_press__open_code()

